<view class="container data-v-d37d3c92"><mescroll-body vue-id="31eb562f-1" sticky="{{true}}" down="{{({native:true})}}" up="{{upOption}}" data-ref="mescrollRef" data-event-opts="{{[['^init',[['mescrollInit']]],['^down',[['downCallback']]],['^up',[['upCallback']]]]}}" bind:init="__e" bind:down="__e" bind:up="__e" class="data-v-d37d3c92 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><u-tabs vue-id="{{('31eb562f-2')+','+('31eb562f-1')}}" list="{{tabs}}" is-scroll="{{false}}" current="{{curTab}}" active-color="#FA2209" duration="{{0.2}}" data-event-opts="{{[['^change',[['onChangeTab']]]]}}" bind:change="__e" class="data-v-d37d3c92" bind:__l="__l"></u-tabs><view class="order-list data-v-d37d3c92"><block wx:for="{{list.data}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="order-item data-v-d37d3c92"><view class="item-top data-v-d37d3c92"><view class="item-top-left data-v-d37d3c92"><text class="order-time data-v-d37d3c92">{{"订单时间："+item.create_time}}</text></view><view class="item-top-right data-v-d37d3c92"><text class="state-text data-v-d37d3c92">{{item.state_text}}</text></view></view><view data-event-opts="{{[['tap',[['handleTargetDetail',['$0'],[[['list.data','',index,'order_id']]]]]]]}}" class="life-list data-v-d37d3c92" bindtap="__e"><block wx:for="{{item.life}}" wx:for-item="life" wx:for-index="idx" wx:key="idx"><view class="life-item data-v-d37d3c92"><view class="life-image data-v-d37d3c92"><image class="image data-v-d37d3c92" src="{{life.life_image}}" mode="scaleToFill"></image></view><view class="life-content data-v-d37d3c92"><view class="life-title data-v-d37d3c92"><text class="twoline-hide data-v-d37d3c92">{{life.life_name}}</text></view><view class="life-props clearfix data-v-d37d3c92"><block wx:for="{{life.life_props}}" wx:for-item="props" wx:for-index="idx" wx:key="idx"><view class="life-props-item data-v-d37d3c92"><text class="data-v-d37d3c92">{{props.value.name}}</text></view></block></view></view><view class="life-trade data-v-d37d3c92"><view class="life-price data-v-d37d3c92"><text class="unit data-v-d37d3c92">￥</text><text class="value data-v-d37d3c92">{{life.is_user_grade?life.grade_life_price:life.life_price}}</text></view><view style="margin-bottom:16rpx;" class="data-v-d37d3c92"><text class="data-v-d37d3c92">{{"×"+life.total_num}}</text></view></view></view></block></view><view class="order-total data-v-d37d3c92"><text class="data-v-d37d3c92">{{"共"+item.total_num+"件服务，总金额"}}</text><text class="unit data-v-d37d3c92">￥</text><text class="money data-v-d37d3c92">{{item.pay_price}}</text></view><view class="order-handle data-v-d37d3c92"><view class="btn-group clearfix data-v-d37d3c92"><block class="tihuo data-v-d37d3c92"><view class="btn-item-tihuo data-v-d37d3c92" style="background-color:#fff;">订单状态：<block wx:if="{{item.pay_status==PayStatusEnum.PENDING.value}}"><text style="color:#777;" class="data-v-d37d3c92">待支付-></text></block><block wx:else><text style="color:#E6C48D;" class="data-v-d37d3c92">已支付-></text></block><block wx:if="{{item.is_jiedan==JieDanEnum.NO.value}}"><text style="color:#777;" class="data-v-d37d3c92">待接单-></text></block><block wx:else><text style="color:#E6C48D;" class="data-v-d37d3c92">已接单-></text></block><block wx:if="{{item.receipt_status==ReceiptStatusEnum.NOT_RECEIVED.value}}"><text style="color:#777;" class="data-v-d37d3c92">待完成</text></block><block wx:else><text style="color:#E6C48D;" class="data-v-d37d3c92">已完成</text></block></view></block><block wx:if="{{item.order_status!=OrderStatusEnum.CANCELLED.value}}"><block class="data-v-d37d3c92"><block wx:if="{{item.pay_status==PayStatusEnum.PENDING.value}}"><block class="data-v-d37d3c92"><view data-event-opts="{{[['tap',[['onCancel',['$0'],[[['list.data','',index,'order_id']]]]]]]}}" class="btn-item data-v-d37d3c92" bindtap="__e">取消</view></block></block><block wx:if="{{item.order_status!=OrderStatusEnum.APPLY_CANCEL.value}}"><block class="data-v-d37d3c92"><block wx:if="{{item.pay_status==PayStatusEnum.SUCCESS.value&&item.delivery_status==DeliveryStatusEnum.NOT_DELIVERED.value}}"><block class="data-v-d37d3c92"><view data-event-opts="{{[['tap',[['onCancel',['$0'],[[['list.data','',index,'order_id']]]]]]]}}" class="btn-item data-v-d37d3c92" bindtap="__e">申请取消</view></block></block></block></block><block wx:else><view class="f-28 col-8 btn-item-cacel data-v-d37d3c92">取消申请中...</view></block><block wx:if="{{item.pay_status==PayStatusEnum.PENDING.value}}"><block class="data-v-d37d3c92"><view data-event-opts="{{[['tap',[['onPay',['$0'],[[['list.data','',index,'order_id']]]]]]]}}" class="btn-item active data-v-d37d3c92" bindtap="__e">去支付</view></block></block><block wx:if="{{item.delivery_status==DeliveryStatusEnum.DELIVERED.value&&item.receipt_status==ReceiptStatusEnum.NOT_RECEIVED.value}}"><block class="data-v-d37d3c92"><view data-event-opts="{{[['tap',[['onReceipt',['$0','$1'],[[['list.data','',index,'order_id']],[['list.data','',index,'points_bonus']]]]]]]}}" class="btn-item active data-v-d37d3c92" bindtap="__e">确认验收</view></block></block><block wx:if="{{item.order_status==OrderStatusEnum.COMPLETED.value&&item.is_comment==0}}"><block class="data-v-d37d3c92"><view data-event-opts="{{[['tap',[['handleTargetComment',['$0'],[[['list.data','',index,'order_id']]]]]]]}}" class="btn-item data-v-d37d3c92" bindtap="__e">评价</view></block></block></block></block><block wx:if="{{item.order_status==OrderStatusEnum.CANCELLED.value||item.order_status==OrderStatusEnum.COMPLETED.value}}"><block class="data-v-d37d3c92"><view data-event-opts="{{[['tap',[['onRemove',['$0'],[[['list.data','',index,'order_id']]]]]]]}}" class="btn-item data-v-d37d3c92" bindtap="__e">删除</view></block></block></view></view></view></block></view></mescroll-body><u-popup bind:input="__e" vue-id="31eb562f-3" mode="bottom" border-radius="26" closeable="{{true}}" value="{{showPayPopup}}" data-event-opts="{{[['^input',[['__set_model',['','showPayPopup','$event',[]]]]]]}}" class="data-v-d37d3c92" bind:__l="__l" vue-slots="{{['default']}}"><view class="pay-popup data-v-d37d3c92"><view class="title data-v-d37d3c92">请选择支付方式</view><view class="pop-content data-v-d37d3c92"><view data-event-opts="{{[['tap',[['onSelectPayType',['$0'],['PayTypeEnum.WECHAT.value']]]]]}}" class="pay-item dis-flex flex-x-between data-v-d37d3c92" bindtap="__e"><view class="item-left dis-flex flex-y-center data-v-d37d3c92"><view class="item-left_icon wechat data-v-d37d3c92"><text class="iconfont icon-wechat-pay data-v-d37d3c92"></text></view><view class="item-left_text data-v-d37d3c92"><text class="data-v-d37d3c92">{{PayTypeEnum.WECHAT.name}}</text></view></view></view><view data-event-opts="{{[['tap',[['onSelectPayType',['$0'],['PayTypeEnum.BALANCE.value']]]]]}}" class="pay-item dis-flex flex-x-between data-v-d37d3c92" bindtap="__e"><view class="item-left dis-flex flex-y-center data-v-d37d3c92"><view class="item-left_icon balance data-v-d37d3c92"><text class="iconfont icon-balance-pay data-v-d37d3c92"></text></view><view class="item-left_text data-v-d37d3c92"><text class="data-v-d37d3c92">{{PayTypeEnum.BALANCE.name}}</text></view></view></view></view></view></u-popup></view>
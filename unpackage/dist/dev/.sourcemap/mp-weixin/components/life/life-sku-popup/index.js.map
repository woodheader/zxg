{"version":3,"sources":["webpack:///E:/项目/业小管/mini/components/life/life-sku-popup/index.vue?6a91","webpack:///E:/项目/业小管/mini/components/life/life-sku-popup/index.vue?9ee4","webpack:///E:/项目/业小管/mini/components/life/life-sku-popup/index.vue?3724","webpack:///E:/项目/业小管/mini/components/life/life-sku-popup/index.vue?6640","uni-app:///components/life/life-sku-popup/index.vue","webpack:///E:/项目/业小管/mini/components/life/life-sku-popup/index.vue?7f0e","webpack:///E:/项目/业小管/mini/components/life/life-sku-popup/index.vue?2ad6"],"names":["name","components","NumberBox","Time","emits","props","value","Type","default","modelValue","lifeId","action","noStockText","stockText","lifeIdName","skuIdName","skuListName","specListName","stockName","skuArrName","defaultSingleSkuName","mode","maskCloseAble","borderRadius","lifeThumbName","lifeThumbBackgroundColor","minBuyNum","maxBuyNum","stepBuyNum","stepStrictly","customAction","localdata","type","priceColor","buyNowText","buyNowColor","buyNowBackgroundColor","addCartText","addCartColor","addCartBackgroundColor","disableStyle","activedStyle","btnStyle","showClose","closeImage","hideStock","theme","actionTips","defaultSelect","useCache","defaultLife","amountType","selectedInit","data","complete","lifeInfo","isShow","initKey","shopItemInfo","selectArr","subIndex","selectShop","selectNum","outFoStock","openTime","themeColor","color","borderColor","backgroundColor","coffee","green","created","vk","that","mounted","methods","init","getValue","findLifeInfo","actionTitle","actionAoading","url","title","loading","life_id","success","lifeCache","fail","updateValue","updateLifeInfo","JSON","Object","open","findLifeInfoRun","close","setTimeout","catch","message","moveHandle","skuClick","checkSelectShop","checkInpath","specList","checkItem","originalSkuList","skuList","stockNum","items","arr","getArrayToSting","item","str","checkSelectComplete","addCart","console","buyNow","toast","uni","icon","getListItem","getListIndex","index","autoClickSku","themeColorFn","defaultSelectSku","selectSku","clickKey","skuClickArr","spec","index1","index2","priceFilter","n","pushLifeCache","stop","previewImage","urls","computed","maxBuyNumCom","max","isManyCom","isMany","priceCom","valueArr","stockCom","watch","immediate","handler","newVal"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA;AAAipB,CAAgB,sqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+GrqB;AACA;AAAA,eACA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;EACAC;IACA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACA;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;IACA;IACAM;MACAP;MACAC;IACA;IACA;IACAO;MACAR;MACAC;IACA;IACA;IACAQ;MACAT;MACAC;IACA;IACA;IACAS;MACAV;MACAC;IACA;IACA;IACAU;MACAX;MACAC;IACA;IACA;IACAW;MACAZ;MACAC;IACA;IACA;IACAY;MACAb;MACAC;IACA;IACA;IACAa;MACAd;MACAC;IACA;IACA;IACAc;MACAf;MACAC;IACA;IACA;IACAe;MACAhB;MACAC;IACA;IACA;IACAgB;MACAjB;MACAC;IACA;IACA;IACAiB;MACAlB;MACAC;IACA;IACA;IACAkB;MACAnB;MACAC;IACA;IACA;IACAmB;MACApB;MACAC;IACA;IACA;IACAoB;MACArB;MACAC;IACA;IACA;IACAqB;MACAtB;MACAC;IACA;IACA;IACAsB;MACAvB;MACAC;IACA;IACA;IACAuB;MACAC;IACA;IACA;IACAC;MACA1B;IACA;IACA;IACA2B;MACA3B;MACAC;IACA;IACA;IACA2B;MACA5B;IACA;IACA;IACA6B;MACA7B;IACA;IACA;IACA8B;MACA9B;MACAC;IACA;IACA;IACA8B;MACA/B;IACA;IACA;IACAgC;MACAhC;IACA;IACA;IACAiC;MACAjC;MACAC;IACA;IACA;IACAiC;MACAlC;MACAC;IACA;IACA;IACAkC;MACAnC;MACAC;IACA;IACA;IACAmC;MACApC;MACAC;IACA;IACA;IACAoC;MACArC;MACAC;IACA;IACA;IACAqC;MACAtC;MACAC;IACA;IACA;IACAsC;MACAvC;MACAC;IACA;IACA;IACAuC;MACAxC;MACAC;IACA;IACA;IACAwC;MACAzC;IACA;IACA;IACA0C;MACA1C;MACAC;IACA;IACA;AACA;AACA;AACA;IACA0C;MACA3C;IACA;IACA;AACA;AACA;AACA;AACA;IACA4C;MACA5C;MACAC;IACA;IACA;IACA4C;MACA7C;MACAC;IACA;EACA;EACA6C;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;QACA;QACAzD;UACAyB;UACAE;UACAC;UACAE;UACAC;UACAG;YACAwB;YACAC;YACAC;UACA;UACA3B;YACAyB;YACAC;YACAC;UACA;UACA5B;YACA0B;YACAC;YACAC;UACA;QACA;QACA;QACA;UACAnC;UACAE;UACAC;UACAE;UACAC;UACAE;YACAyB;YACAC;YACAC;UACA;QACA;QACA;QACA;UACAnC;UACAE;UACAC;UACAE;UACAC;UACA;UACA;UACA;UACA;UACA;UACAE;YACAyB;YACAC;YACAC;UACA;QACA;QACA;QACAC;UACApC;UACAE;UACAC;UACAE;UACAC;UACAE;YACAyB;YACAC;YACAC;UACA;QACA;QACA;QACAE;UACArC;UACAE;UACAC;UACAE;UACAC;UACAE;YACAyB;YACAC;YACAC;UACA;QACA;MACA;IACA;EACA;EACAG;IACA;IACAC;IACA;MACAC;IACA;EACA;EACAC;EACAC;IACA;IACAC;MACA;MACA;MACAH;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;MACAA;QACAA;QACAA;MACA;MACAA;MACAA;MACA;IACA;IACAI;MAEA;IAMA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACAL;QACA;MACA;MACA;MACA;MACA;MACA;QACAM;MACA;QACAC;MACA;MACAR;QACAS;QACAC;QACAC;QACA9B;UACA+B;QACA;QACAC;UACAZ;UACA;UACAa;UACAb;QACA;QACAc;UACAd;QACA;MACA;IACA;IACAe;MACA;MACA;QACAf;QACAA;QACAA;MACA;QACAA;QACAA;QACAA;MACA;IACA;IACA;IACAgB;MACA;MACA;MACA;MACA;MACA;MACA,IACAC,0CACAjB,8DACA;QACAA;QACAA;MACA;QACAA;MACA;MACA;QACAA;QACAA;MACA;MACA;MACA,uCACAA,4BACAA,gBACAA,gCACA;MACAkB;MACAlB;MACAA;IACA;IACAmB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAnB;gBACAA;gBACAoB;gBACA7E,gCACA;gBACAiC;gBACAM;gBACA;kBACAN;kBACAwB;gBACA;kBACAA;gBACA;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA;gBAAA,OAEAA,KACA3C;kBACAmB;kBACAvC;kBACA6C;kBACAuC;oBACAC;sBACAtB;oBACA;kBACA;gBACA,GACAuB;kBACAD;oBACAtB;kBACA;gBACA;cAAA;gBAfAlB;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,2BAiBA0C;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAxB;gBACAsB;kBACAtB;gBACA;gBAAA,iCACA;cAAA;gBAGA;gBACAa;gBAAA,MACA/B;kBAAA;kBAAA;gBAAA;gBACAsC;gBACApB;gBACAA;gBAAA;gBAAA;cAAA;gBAEAA;gBACAA;gBAAA,iCACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBACAlB;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAsC;gBACApB;gBACAA;gBAAA;gBAAA;cAAA;gBAEAA;gBACAA;gBAAA,iCACA;cAAA;gBAAA;gBAAA;cAAA;gBAGA;kBAAAxB;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACA6C;MACA;MACA;QACA;MACA;MACA;QACA;UACArB;UACAA;UACAA;QACA;MACA;QACAA;QACAA;QACAA;MACA;IACA;IACAyB;MACA;IAAA,CACA;IACA;IACAC;MACA;MACA;QACA;UACA1B;UACAA;QACA;UACAA;UACAA;QACA;QACAA;QACA;QACAA;MACA;IACA;IACA;IACA2B;MACA;MACA;MACA;QAAA;MAAA;QACA3B;QACA;QACA;UACAA;QACA;QACA;UACAA;QACA;QACA;UACAA;QACA;QACA;UACAA;QACA;MACA;QACAA;MACA;IACA;IACA;IACA4B;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;UACA;QACA;QACA;QACA;UACA;YACA;UACA;UACA;UACA5B;UACA,wCACA;YAAA;UAAA,EACA;UACA;YACA6B;UACA;YACAA;UACA;QACA;MACA;MACA7B;MACA;IACA;IACA;IACA8B;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;QACA;UACAC;UACAC;QACA;MACA;MACA;QACAjC;MACA;MACA;MACA,4BACA;QACA,mBACAkC,8BACA;UACA,kBACAC;YACA;YACA;YACA;cACAnC;YACA;YACA;UACA,GACA;QACA,GACA,CACA,GACA,CACA,CACA;MACA,GACA,CACA,GACA,CACA;MACA;IACA;IACAoC;MACA;MACAD;QACAE;QACA;UACAC;QACA;UACAA;QACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;MACA;MACAvC;MACA;QAAAX;QAAAjD;QAAAK;MACA;QACAuD;QACA;MACA;MACA;QACAA;QACA;MACA;MACA;MACA;QACAA;QACA;MACA;MACA;IACA;IACA;IACAwC;MACA;MACAxC;QACAY;UACA6B;UACArD;UACAY;UACA;UACA;UACA;QACA;MACA;IACA;IACA;IACA0C;MACA;MACA1C;QACAY;UACAxB;UACAY;QACA;MACA;IACA;IACA;IACA2C;MACAC;QACAnC;QACAoC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;UACA;YACAT;YACA;UACA;QACA;UACA;YACAA;YACA;UACA;QACA;MACA;MACA;IACA;IACAU;MACA;MACA;MACA;QACA;UACAC;UACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;UACA;UACA;YACAjD;YACA;UACA;QACA;MACA;IACA;IACA;IACAkD;MACA;MACA;QAAA1D;MACA;MACA;IACA;IACA2D;MACA;MACA;MACA;QACAnD;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAoD;MAAA;MACA;MACA;QAAA/D;MACA;MACA;QACA;QACA;QACA;QACA;UACA;UACA;UACA;UACA;UACA;YACAgE;YACA;UACA;UACAC;YACAC;YACAC;YACAC;UACA;QACA;QACA;UACAzD;UACAsD;YACAtD;UACA;QACA;MACA;MACA;IACA;IACA0D;MAAA;MACA;MACA;QACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA/C;IACA;IACA;IACAgD;IACA;IACAC;MACA;MACA;QAAAhF;QAAA/B;MACA;MACA;QACA6F;UACAmB;QACA;MACA;IACA;EACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QAAAxH;QAAAH;MACA;MACA,IACAsC,0BACAA,uCACAA,+CACAA,yDACA;QACAsF;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QAAAjF;QAAA;QAAAN;QAAAvC;QAAAD;MACA;QACAgG;MACA;QACA;QACA;UACA;UACAN;YACAsC;UACA;UACA;UACA;UACA;YACAhC;UACA;YACAA;UACA;QACA;MACA;MACA;IACA;IACA;IACAiC;MACA;MACA;MACA;QAAAnF;QAAA;QAAAN;QAAAvC;QAAAE;MACA;QACA6F;MACA;QACA;QACA;UACA;UACAN;YACAsC;UACA;UACA;UACA;UACA;YACAhC;UACA;YACAA;UACA;QACA;MACA;MACA;IACA;EACA;EACAkC;IACA3I;MACA;MACA;QACAmE;MACA;IACA;IACAhE;MACA;MACA;QACAgE;MACA;IACA;IACAvB;MACAgG;MACAC;QACA;QACA;QACA,IACA,8CACAC,UACAA,sBACA,gCACA;UACA3E;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1iCA;AAAA;AAAA;AAAA;AAA4vC,CAAgB,ytCAAG,EAAC,C;;;;;;;;;;;ACAhxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/life/life-sku-popup/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=b0b58794&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b0b58794&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0b58794\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/life/life-sku-popup/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=b0b58794&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getValue() && _vm.complete\n  var m1 = _vm.themeColorFn(\"priceColor\")\n  var g0 = _vm.priceCom.length\n  var g1 = _vm.selectArr.every(function (val) {\n    return val == \"\"\n  })\n  var g2 = !g1 ? _vm.selectArr.join(\" \") : null\n  var l1 = _vm.__map(_vm.lifeInfo[_vm.specListName], function (item, index1) {\n    var $orig = _vm.__get_orig(item)\n    var l0 = _vm.__map(item.list, function (item_value, index2) {\n      var $orig = _vm.__get_orig(item_value)\n      var s0 = _vm.__get_style([\n        item_value.ishow ? \"\" : _vm.themeColorFn(\"disableStyle\"),\n        item_value.ishow ? _vm.themeColorFn(\"btnStyle\") : \"\",\n        _vm.subIndex[index1] == index2 ? _vm.themeColorFn(\"activedStyle\") : \"\",\n      ])\n      return {\n        $orig: $orig,\n        s0: s0,\n      }\n    })\n    return {\n      $orig: $orig,\n      l0: l0,\n    }\n  })\n  var m2 =\n    !(_vm.outFoStock || _vm.mode == 4) && _vm.mode == 1\n      ? _vm.themeColorFn(\"buyNowColor\")\n      : null\n  var m3 =\n    !(_vm.outFoStock || _vm.mode == 4) && _vm.mode == 1\n      ? _vm.themeColorFn(\"buyNowBackgroundColor\")\n      : null\n  var m4 =\n    !(_vm.outFoStock || _vm.mode == 4) && !(_vm.mode == 1) && _vm.mode == 2\n      ? _vm.themeColorFn(\"addCartColor\")\n      : null\n  var m5 =\n    !(_vm.outFoStock || _vm.mode == 4) && !(_vm.mode == 1) && _vm.mode == 2\n      ? _vm.themeColorFn(\"addCartBackgroundColor\")\n      : null\n  var m6 =\n    !(_vm.outFoStock || _vm.mode == 4) &&\n    !(_vm.mode == 1) &&\n    !(_vm.mode == 2) &&\n    _vm.mode == 3\n      ? _vm.themeColorFn(\"buyNowColor\")\n      : null\n  var m7 =\n    !(_vm.outFoStock || _vm.mode == 4) &&\n    !(_vm.mode == 1) &&\n    !(_vm.mode == 2) &&\n    _vm.mode == 3\n      ? _vm.themeColorFn(\"buyNowBackgroundColor\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l1: l1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"life-sku-popup\" catchtouchmove=\"true\" :class=\"getValue() && complete ? 'show' : 'none'\"\r\n    @touchmove.stop.prevent=\"moveHandle\" @click.stop=\"stop\">\r\n    <!-- 页面内容开始 -->\r\n    <view class=\"mask\" @click=\"close('mask')\"></view>\r\n    <view class=\"layer attr-content\" :style=\"{\r\n\t\t\t\tborderRadius: borderRadius + 'rpx ' + borderRadius + 'rpx 0 0'\r\n\t\t\t}\">\r\n      <view class=\"specification-wrapper\">\r\n        <scroll-view class=\"specification-wrapper-content\" scroll-y=\"true\">\r\n          <view class=\"specification-header\">\r\n            <view class=\"specification-left\">\r\n              <image class=\"product-img\" :src=\"selectShop.image ? selectShop.image : lifeInfo[lifeThumbName]\" :style=\"{\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: lifeThumbBackgroundColor\r\n\t\t\t\t\t\t\t\t}\" mode=\"aspectFill\" @click=\"previewImage\"></image>\r\n            </view>\r\n            <view class=\"specification-right\">\r\n              <view class=\"price-content\" :style=\"{\r\n\t\t\t\t\t\t\t\t\tcolor: themeColorFn('priceColor')\r\n\t\t\t\t\t\t\t\t}\">\r\n                <text class=\"sign\">¥</text>\r\n                <text class=\"price\" :class=\"priceCom.length > 16 ? 'price2' : ''\">\r\n                  {{ priceCom }}\r\n                </text>\r\n              </view>\r\n              <view class=\"inventory\" v-if=\"!hideStock\">{{ stockText }}：{{ stockCom }}</view>\r\n              <view class=\"inventory\" v-else></view>\r\n              <view class=\"choose\" v-show=\"isManyCom\">\r\n                <text v-if=\"!selectArr.every(val => val == '')\">已选：{{ selectArr.join(' ') }}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"specification-content\">\r\n            <view v-show=\"isManyCom\" class=\"specification-item\" v-for=\"(item, index1) in lifeInfo[specListName]\"\r\n              :key=\"index1\">\r\n              <view class=\"item-title\">{{ item.name }}</view>\r\n              <view class=\"item-wrapper\">\r\n                <view class=\"item-content\" v-for=\"(item_value, index2) in item.list\" :key=\"index2\" :class=\"[\r\n\t\t\t\t\t\t\t\t\t\titem_value.ishow ? '' : 'noactived',\r\n\t\t\t\t\t\t\t\t\t\tsubIndex[index1] == index2 ? 'actived' : ''\r\n\t\t\t\t\t\t\t\t\t]\" :style=\"[\r\n\t\t\t\t\t\t\t\t\t\titem_value.ishow ? '' : themeColorFn('disableStyle'),\r\n\t\t\t\t\t\t\t\t\t\titem_value.ishow ? themeColorFn('btnStyle') : '',\r\n\t\t\t\t\t\t\t\t\t\tsubIndex[index1] == index2 ? themeColorFn('activedStyle') : ''\r\n\t\t\t\t\t\t\t\t\t]\" @click=\"skuClick(item_value, index1, index2)\">\r\n                  {{ item_value.name }}\r\n                </view>\r\n              </view>\r\n            </view>\r\n            <view class=\"number-box-view\">\r\n              <view style=\"flex: 1;\">数量</view>\r\n              <view style=\"flex: 4;text-align: right;\">\r\n                <number-box v-model=\"selectNum\" :min=\"minBuyNum || 1\" :max=\"maxBuyNumCom\" :step=\"stepBuyNum || 1\"\r\n                  :step-strictly=\"stepStrictly\" :positive-integer=\"true\">\r\n                </number-box>\r\n              </view>\r\n            </view>\r\n\r\n            <view class=\"specification-item\">\r\n            </view>\r\n          </view>\r\n        </scroll-view>\r\n        <view class=\"close\" @click=\"close('close')\" v-if=\"showClose != false\">\r\n          <image class=\"close-item\" :src=\"closeImage\"></image>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"btn-wrapper\" v-if=\"outFoStock || mode == 4\">\r\n        <view class=\"sure\" style=\"color:#ffffff;background-color:#cccccc\">{{ noStockText }}</view>\r\n      </view>\r\n      <view class=\"btn-wrapper\" v-else-if=\"mode == 1\">\r\n        <!--view class=\"sure add-cart\" style=\"border-radius:38rpx 0rpx 0rpx 38rpx;\" @click=\"addCart\" :style=\"{\r\n\t\t\t\t\t\tcolor: themeColorFn('addCartColor'),\r\n\t\t\t\t\t\tbackgroundColor: themeColorFn('addCartBackgroundColor')\r\n\t\t\t\t\t}\">\r\n          {{ addCartText }}\r\n        </view-->\r\n\r\n        <view class=\"sure\" style=\"border-radius:0rpx 38rpx 38rpx 0rpx;\" @click=\"buyNow\" :style=\"{\r\n\t\t\t\t\t\tcolor: themeColorFn('buyNowColor'),\r\n\t\t\t\t\t\tbackgroundColor: themeColorFn('buyNowBackgroundColor'),\r\n\t\t\t\t\t\tborderRadius:'38rpx'\r\n\t\t\t\t\t}\">\r\n          {{ buyNowText }}\r\n        </view>\r\n      </view>\r\n      <view class=\"btn-wrapper\" v-else-if=\"mode == 2\">\r\n        <view class=\"sure add-cart\" @click=\"addCart\" :style=\"{\r\n\t\t\t\t\t\tcolor: themeColorFn('addCartColor'),\r\n\t\t\t\t\t\tbackgroundColor: themeColorFn('addCartBackgroundColor')\r\n\t\t\t\t\t}\">\r\n          {{ addCartText }}\r\n        </view>\r\n      </view>\r\n      <view class=\"btn-wrapper\" v-else-if=\"mode == 3\">\r\n        <view class=\"sure\" @click=\"buyNow\" :style=\"{\r\n\t\t\t\t\t\tcolor: themeColorFn('buyNowColor'),\r\n\t\t\t\t\t\tbackgroundColor: themeColorFn('buyNowBackgroundColor')\r\n\t\t\t\t\t}\">\r\n          {{ buyNowText }}\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- 页面内容结束 -->\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import NumberBox from './number-box'\r\n  import Time from 'pages/life/life/components/Time'\r\n  var vk; // vk依赖\r\n  var lifeCache = {}; // 本地服务缓存\r\n  export default {\r\n    name: \"LifeSkuPopup\",\r\n    components: {\r\n      NumberBox,\r\n      Time\r\n    },\r\n    emits: [\"update:modelValue\", \"input\", \"update-life\", \"open\", \"close\", \"add-cart\", \"buy-now\"],\r\n    props: {\r\n      // true 组件显示 false 组件隐藏\r\n      value: {\r\n        Type: Boolean,\r\n        default: false\r\n      },\r\n      modelValue: {\r\n        Type: Boolean,\r\n        default: false\r\n      },\r\n      // vk云函数路由模式参数开始-----------------------------------------------------------\r\n      // 服务id\r\n      lifeId: {\r\n        Type: String,\r\n        default: \"\"\r\n      },\r\n      // vk路由模式框架下的云函数地址\r\n      action: {\r\n        Type: String,\r\n        default: \"\"\r\n      },\r\n      // vk云函数路由模式参数结束-----------------------------------------------------------\r\n      // 该服务已抢完时的按钮文字\r\n      noStockText: {\r\n        Type: String,\r\n        default: \"该服务已抢完\"\r\n      },\r\n      // 库存文字\r\n      stockText: {\r\n        Type: String,\r\n        default: \"库存\"\r\n      },\r\n      // 服务表id的字段名\r\n      lifeIdName: {\r\n        Type: String,\r\n        default: \"_id\"\r\n      },\r\n      // sku表id的字段名\r\n      skuIdName: {\r\n        Type: String,\r\n        default: \"_id\"\r\n      },\r\n      // sku_list的字段名\r\n      skuListName: {\r\n        Type: String,\r\n        default: \"sku_list\"\r\n      },\r\n      // spec_list的字段名\r\n      specListName: {\r\n        Type: String,\r\n        default: \"spec_list\"\r\n      },\r\n      // 库存的字段名 默认 stock\r\n      stockName: {\r\n        Type: String,\r\n        default: \"stock\"\r\n      },\r\n      // sku组合路径的字段名\r\n      skuArrName: {\r\n        Type: String,\r\n        default: \"sku_name_arr\"\r\n      },\r\n      // 默认单规格时的规格组名称\r\n      defaultSingleSkuName: {\r\n        Type: String,\r\n        default: \"默认\"\r\n      },\r\n      // 模式 1:都显示  2:只显示购物车 3:只显示立即购买 4:显示缺货按钮 默认 1\r\n      mode: {\r\n        Type: Number,\r\n        default: 1\r\n      },\r\n      // 点击遮罩是否关闭组件 true 关闭 false 不关闭 默认true\r\n      maskCloseAble: {\r\n        Type: Boolean,\r\n        default: true\r\n      },\r\n      // 顶部圆角值\r\n      borderRadius: {\r\n        Type: [String, Number],\r\n        default: 0\r\n      },\r\n      // 服务缩略图字段名(未选择sku时)\r\n      lifeThumbName: {\r\n        Type: [String],\r\n        default: \"life_thumb\"\r\n      },\r\n      // 服务缩略图背景颜色，如#999999\r\n      lifeThumbBackgroundColor: {\r\n        Type: String,\r\n        default: \"#999999\"\r\n      },\r\n      // 最小购买数量 默认 1\r\n      minBuyNum: {\r\n        Type: [Number, String],\r\n        default: 1\r\n      },\r\n      // 最大购买数量 默认 100000\r\n      maxBuyNum: {\r\n        Type: [Number, String],\r\n        default: 100000\r\n      },\r\n      // 步进器步长 默认 1\r\n      stepBuyNum: {\r\n        Type: [Number, String],\r\n        default: 1\r\n      },\r\n      // 是否只能输入 step 的倍数\r\n      stepStrictly: {\r\n        Type: Boolean,\r\n        default: false\r\n      },\r\n      // 自定义获取服务信息的函数,支付宝小程序不支持该属性,请使用localdata属性\r\n      customAction: {\r\n        Type: [Function],\r\n        default: null\r\n      },\r\n      // 本地数据源\r\n      localdata: {\r\n        type: Object\r\n      },\r\n      // 价格的字体颜色\r\n      priceColor: {\r\n        Type: String\r\n      },\r\n      // 立即购买按钮的文字\r\n      buyNowText: {\r\n        Type: String,\r\n        default: \"立即购买\"\r\n      },\r\n      // 立即购买按钮的字体颜色\r\n      buyNowColor: {\r\n        Type: String\r\n      },\r\n      // 立即购买按钮的背景颜色\r\n      buyNowBackgroundColor: {\r\n        Type: String\r\n      },\r\n      // 加入购物车按钮的文字\r\n      addCartText: {\r\n        Type: String,\r\n        default: \"加入购物车\"\r\n      },\r\n      // 加入购物车按钮的字体颜色\r\n      addCartColor: {\r\n        Type: String\r\n      },\r\n      // 加入购物车按钮的背景颜色\r\n      addCartBackgroundColor: {\r\n        Type: String\r\n      },\r\n      // 不可点击时,按钮的样式\r\n      disableStyle: {\r\n        Type: Object,\r\n        default: null\r\n      },\r\n      // 按钮点击时的样式\r\n      activedStyle: {\r\n        Type: Object,\r\n        default: null\r\n      },\r\n      // 按钮常态的样式\r\n      btnStyle: {\r\n        Type: Object,\r\n        default: null\r\n      },\r\n      // 是否显示右上角关闭按钮\r\n      showClose: {\r\n        Type: Boolean,\r\n        default: true\r\n      },\r\n      // 关闭按钮的图片地址 https://img.alicdn.com/imgextra/i1/121022687/O1CN01ImN0O11VigqwzpLiK_!!121022687.png\r\n      closeImage: {\r\n        Type: String,\r\n        default: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAEyUlEQVR42sSZeWwNURTGp4OqtBo7sSXELragdkpQsRRJ1Zr4hyJiJ9YgxNIg1qANiT+E1i5IY0kVVWtQEbuEKLFGUSH27/ANN5PXmTvzupzkl/tm8t6b7517lnvvC0lKSjJ8WmnQAUSDFqABqALKgl8gD7wE90E2SAeXwFf1SxISErQeVtKHwCgwFsSDSIf3hYFKoCkYDBaDdyAViHdueHmoF6FtwDLQ23b/E7gM7oIcejIERIDaoBFoC8qA8mA8SQNz6W1XC9GY+nCQCCYAk/c+gF0gBZwH312+IxR0BCPBUIaH2A+wHsxHCHxx+gLT5QGN6a2JfG8uvVCDws9oiDQYlxkMGfHyQvARlADTwcXk5OT6foV2kS8ATXidymlcyen1a/Jjl9IJh3hPkjELYqO8Cu0KjjNZvtETw5jFBWXPmGSTGQKSeOn5iQ0kVLL0CINfPNcPbDMKyRCbGzEMBJ+ZD8cChYFdqGTqfsWT8otPGoVsEHsMwxDFs3shNsxJ6BrQ0Po8OGUUkVHsNCVml+cntB1jUWwn2GEUsTEMrASbDK+2CCQ0kYX6nfLLisMmKqUr0S60M+jG10vAm+JSCa8+x7CKlzHwaktV6DiObzUzPJIxFO1BQ12wGtTReO9GetVgY/kjNJzZbcWmTjHfxw51AsRqvL8eOAtmsJuFu3g1l+1ZLB5eDTVZ3K0P7tL0TkWOpSg61kVkBtuuNRthGs+wtJST5aQI7cEbkkRXNYVKgX6kIdYuUhYzMQwxN8tiExCLFqHNeSF9/aem0BzGp5PYQCJ7c/Gsk1RfuSD6U1dNpcDf9ZigTmKbMRZ9iVTsHscGJluW2FMf1SSQWGnBmaB6kCJVTVVNJZE++Cx9drEllS1KMCINpURFmEbBWA63Fz9s95cGIdJgp/zXmT4pZcOvSUzuZttTbblmnc3PIjjmidDXvKgdhMh0JdbzuCjWrbNOVovjS5P7bkPJ/mBESkz2BO0166ybNeJ431S2q+01NntuIq3E0amzjiZtk9tssWyTDzO4525bACK9NAUn68TtkNhpEXpOSagRml+S6iLSSeweHv242Qhl13rRyvoDvDlKyTQny/ZQJ+1iH7vVbEx7OR5UiKVIO7VicgvHCtwrudloMIV7/0uadVYW57O4Wvvi8v4pymlKkrpwvsDeLLZAY2pkwbAB3PSQfC+4cH7l4k1ZH8zkZRq8ecO+Z5rN40JJqnXFuGfaxPCTLjcn0OZOpnArXw8HY4paIbw5CcMgXq6HN2/mt6+XGLrN15tBryIUGavMpCTrfKcDCKkAceA9S8nhAOehhSUyhXpkBxxnP4YM1InugP7cBkjBPcqVUWFYCEROxXiQz5JlXV+IfKh7mpfJac+lZ6V87QXVClBkTc7YWsWTPSDyitfzUTlJlj8TbvE6jluDOdwZ+jX57GLO3ADeuyZrDYi86vV81FD2UVGsmT+5Zl0BnkhoseOEaogL46pqO4v/IqUEyalIR4h85BgjHv6+aUWRMbb7EstX6O0cpT1Gco0ry8fWygLDMjmDnQeBt3Qe7uVfkeugDwVLcsVzGsuwLXbV+I63XNAkG5r/hvgRqgqWs6pJPKrsbvz/Q6yyun0w/h6lP+BnzrCpfPMT2L8FGAA7k1GZ/vnaqAAAAABJRU5ErkJggg==\"\r\n      },\r\n      // 是否隐藏库存显示\r\n      hideStock: {\r\n        Type: Boolean,\r\n        default: false\r\n      },\r\n      // 颜色主题\r\n      theme: {\r\n        Type: String,\r\n        default: \"default\"\r\n      },\r\n      // 请求中的提示\r\n      actionTips: {\r\n        Type: String,\r\n        default: \"请求中...\"\r\n      },\r\n      // 默认选中的SKU\r\n      defaultSelect: {\r\n        Type: Object\r\n      },\r\n      // 是否使用缓存\r\n      useCache: {\r\n        Type: Boolean,\r\n        default: true\r\n      },\r\n      /**\r\n       * 默认服务,设置该值可快速展示服务\r\n       * 逻辑: 先展示 defaultLife 信息,再取数据库,再更新页面(通常为更新库存)\r\n       */\r\n      defaultLife: {\r\n        Type: Object\r\n      },\r\n      /**\r\n       * 金额是否需要除以100\r\n       * 1:金额会除以100\r\n       * 0:金额不会除以100\r\n       */\r\n      amountType: {\r\n        Type: Number,\r\n        default: 1\r\n      },\r\n      // 每次选择完SKU后，购买数量归1，如果有最小购买数量，则设置为最小购买数量\r\n      selectedInit: {\r\n        Type: Boolean,\r\n        default: false\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        complete: false, // 组件是否加载完成\r\n        lifeInfo: {}, // 服务信息\r\n        isShow: false, // true 显示 false 隐藏\r\n        initKey: true, // 是否已初始化\r\n        shopItemInfo: {}, // 存放要和选中的值进行匹配的数据\r\n        selectArr: [], // 存放被选中的值\r\n        subIndex: [], // 是否选中 因为不确定是多规格还是单规格，所以这里定义数组来判断\r\n        selectShop: {}, // 存放最后选中的服务\r\n        selectNum: this.minBuyNum || 1, // 选中数量\r\n        outFoStock: false, // 是否全部sku都缺货\r\n        openTime: 0,\r\n        themeColor: {\r\n          // 默认主题\r\n          default: {\r\n            priceColor: \"rgb(254, 86, 10)\",\r\n            buyNowColor: \"#ffffff\",\r\n            buyNowBackgroundColor: \"rgb(254, 86, 10)\",\r\n            addCartColor: \"#ffffff\",\r\n            addCartBackgroundColor: \"rgb(255, 148, 2)\",\r\n            btnStyle: {\r\n              color: \"#333333\",\r\n              borderColor: \"#f4f4f4\",\r\n              backgroundColor: \"#ffffff\"\r\n            },\r\n            activedStyle: {\r\n              color: \"rgb(254, 86, 10)\",\r\n              borderColor: \"rgb(254, 86, 10)\",\r\n              backgroundColor: \"rgba(254,86,10,0.1)\"\r\n            },\r\n            disableStyle: {\r\n              color: \"#c3c3c3\",\r\n              borderColor: \"#f6f6f6\",\r\n              backgroundColor: \"#f6f6f6\"\r\n            }\r\n          },\r\n          // 红黑主题\r\n          \"red-black\": {\r\n            priceColor: \"rgb(255, 68, 68)\",\r\n            buyNowColor: \"#ffffff\",\r\n            buyNowBackgroundColor: \"rgb(255, 68, 68)\",\r\n            addCartColor: \"#ffffff\",\r\n            addCartBackgroundColor: \"rgb(85, 85, 85)\",\r\n            activedStyle: {\r\n              color: \"rgb(255, 68, 68)\",\r\n              borderColor: \"rgb(255, 68, 68)\",\r\n              backgroundColor: \"rgba(255,68,68,0.1)\"\r\n            }\r\n          },\r\n          // 黑白主题\r\n          \"black-white\": {\r\n            priceColor: \"rgb(47, 47, 52)\",\r\n            buyNowColor: \"#ffffff\",\r\n            buyNowBackgroundColor: \"rgb(47, 47, 52)\",\r\n            addCartColor: \"rgb(47, 47, 52)\",\r\n            addCartBackgroundColor: \"rgb(235, 236, 242)\",\r\n            // btnStyle:{\r\n            // \tcolor:\"rgb(47, 47, 52)\",\r\n            // \tborderColor:\"rgba(235,236,242,0.5)\",\r\n            // \tbackgroundColor:\"rgba(235,236,242,0.5)\",\r\n            // },\r\n            activedStyle: {\r\n              color: \"rgb(47, 47, 52)\",\r\n              borderColor: \"rgba(47,47,52,0.12)\",\r\n              backgroundColor: \"rgba(47,47,52,0.12)\"\r\n            }\r\n          },\r\n          // 咖啡色主题\r\n          coffee: {\r\n            priceColor: \"rgb(195, 167, 105)\",\r\n            buyNowColor: \"#ffffff\",\r\n            buyNowBackgroundColor: \"rgb(195, 167, 105)\",\r\n            addCartColor: \"rgb(195, 167, 105)\",\r\n            addCartBackgroundColor: \"rgb(243, 238, 225)\",\r\n            activedStyle: {\r\n              color: \"rgb(195, 167, 105)\",\r\n              borderColor: \"rgb(195, 167, 105)\",\r\n              backgroundColor: \"rgba(195, 167, 105,0.1)\"\r\n            }\r\n          },\r\n          // 浅绿色主题\r\n          green: {\r\n            priceColor: \"rgb(99, 190, 114)\",\r\n            buyNowColor: \"#ffffff\",\r\n            buyNowBackgroundColor: \"rgb(99, 190, 114)\",\r\n            addCartColor: \"rgb(99, 190, 114)\",\r\n            addCartBackgroundColor: \"rgb(225, 244, 227)\",\r\n            activedStyle: {\r\n              color: \"rgb(99, 190, 114)\",\r\n              borderColor: \"rgb(99, 190, 114)\",\r\n              backgroundColor: \"rgba(99, 190, 114,0.1)\"\r\n            }\r\n          }\r\n        }\r\n      };\r\n    },\r\n    created() {\r\n      let that = this;\r\n      vk = that.vk;\r\n      if (that.getValue()) {\r\n        that.open();\r\n      }\r\n    },\r\n    mounted() {},\r\n    methods: {\r\n      // 初始化\r\n      init(notAutoClick) {\r\n        let that = this;\r\n        // 清空之前的数据\r\n        that.selectArr = [];\r\n        that.subIndex = [];\r\n        that.selectShop = {};\r\n        that.selectNum = that.minBuyNum || 1;\r\n        that.outFoStock = false;\r\n        that.shopItemInfo = {};\r\n        let specListName = that.specListName;\r\n        that.lifeInfo[specListName].map(item => {\r\n          that.selectArr.push(\"\");\r\n          that.subIndex.push(-1);\r\n        });\r\n        that.checkItem(); // 计算sku里面规格形成路径\r\n        that.checkInpath(-1); // 传-1是为了不跳过循环\r\n        if (!notAutoClick) that.autoClickSku(); // 自动选择sku策略\r\n      },\r\n      getValue() {\r\n        // #ifndef VUE3\r\n        return this.value;\r\n        // #endif\r\n\r\n        // #ifdef VUE3\r\n        return this.modelValue;\r\n        // #endif\r\n      },\r\n      // 使用vk路由模式框架获取服务信息\r\n      findLifeInfo(obj = {}) {\r\n        let that = this;\r\n        let { useCache } = obj;\r\n        if (typeof vk == \"undefined\") {\r\n          that.toast(\"custom-action必须是function\", \"none\");\r\n          return false;\r\n        }\r\n        let { actionTips } = that;\r\n        let actionTitle = \"\";\r\n        let actionAoading = false;\r\n        if (actionTips !== \"custom\") {\r\n          actionTitle = useCache ? \"\" : \"请求中...\";\r\n        } else {\r\n          actionAoading = useCache ? false : true;\r\n        }\r\n        vk.callFunction({\r\n          url: that.action,\r\n          title: actionTitle,\r\n          loading: actionAoading,\r\n          data: {\r\n            life_id: that.lifeId\r\n          },\r\n          success(data) {\r\n            that.updateLifeInfo(data.lifeInfo);\r\n            // 更新缓存\r\n            lifeCache[that.lifeId] = data.lifeInfo;\r\n            that.$emit(\"update-life\", data.lifeInfo);\r\n          },\r\n          fail() {\r\n            that.updateValue(false);\r\n          }\r\n        });\r\n      },\r\n      updateValue(value) {\r\n        let that = this;\r\n        if (value) {\r\n          that.$emit(\"open\", true);\r\n          that.$emit(\"input\", true);\r\n          that.$emit(\"update:modelValue\", true);\r\n        } else {\r\n          that.$emit(\"input\", false);\r\n          that.$emit(\"close\", \"close\");\r\n          that.$emit(\"update:modelValue\", false);\r\n        }\r\n      },\r\n      // 更新服务信息(库存、名称、图片)\r\n      updateLifeInfo(lifeInfo) {\r\n        let that = this;\r\n        // lifeInfo.sku_list.map((item, index) => {\r\n        // \titem.sku_name_arr = [\"20ml/瓶\"];\r\n        // });\r\n        let { skuListName } = that;\r\n        if (\r\n          JSON.stringify(that.lifeInfo) === \"{}\" ||\r\n          that.lifeInfo[that.lifeIdName] !== lifeInfo[that.lifeIdName]\r\n        ) {\r\n          that.lifeInfo = lifeInfo;\r\n          that.initKey = true;\r\n        } else {\r\n          that.lifeInfo[skuListName] = lifeInfo[skuListName];\r\n        }\r\n        if (that.initKey) {\r\n          that.initKey = false;\r\n          that.init(that.isManyCom);\r\n        }\r\n        // 更新选中sku的库存信息\r\n        let select_sku_info = that.getListItem(\r\n          that.lifeInfo[skuListName],\r\n          that.skuIdName,\r\n          that.selectShop[that.skuIdName]\r\n        );\r\n        Object.assign(that.selectShop, select_sku_info);\r\n        that.defaultSelectSku();\r\n        that.complete = true;\r\n      },\r\n      async open() {\r\n        let that = this;\r\n        that.openTime = new Date().getTime();\r\n        let findLifeInfoRun = true;\r\n        let skuListName = that.skuListName;\r\n        // 先获取缓存中的服务信息\r\n        let useCache = false;\r\n        let lifeInfo = lifeCache[that.lifeId];\r\n        if (lifeInfo && that.useCache) {\r\n          useCache = true;\r\n          that.updateLifeInfo(lifeInfo);\r\n        } else {\r\n          that.complete = false;\r\n        }\r\n        if (that.customAction && typeof that.customAction === \"function\") {\r\n          try {\r\n            lifeInfo = await that\r\n              .customAction({\r\n                useCache,\r\n                lifeId: that.lifeId,\r\n                lifeInfo,\r\n                close: function() {\r\n                  setTimeout(function() {\r\n                    that.close();\r\n                  }, 500);\r\n                }\r\n              })\r\n              .catch(err => {\r\n                setTimeout(function() {\r\n                  that.close();\r\n                }, 500);\r\n              });\r\n          } catch (err) {\r\n            let { message = \"\" } = err;\r\n            if (message.indexOf(\".catch is not a function\") > -1) {\r\n              that.toast(\"custom-action必须返回一个Promise\", \"none\");\r\n              setTimeout(function() {\r\n                that.close();\r\n              }, 500);\r\n              return false;\r\n            }\r\n          }\r\n          // 更新缓存\r\n          lifeCache[that.lifeId] = lifeInfo;\r\n          if (lifeInfo && typeof lifeInfo == \"object\" && JSON.stringify(lifeInfo) != \"{}\") {\r\n            findLifeInfoRun = false;\r\n            that.updateLifeInfo(lifeInfo);\r\n            that.updateValue(true);\r\n          } else {\r\n            that.toast(\"未获取到服务信息\", \"none\");\r\n            that.$emit(\"input\", false);\r\n            return false;\r\n          }\r\n        } else if (typeof that.localdata !== \"undefined\" && that.localdata !== null) {\r\n          lifeInfo = that.localdata;\r\n          if (lifeInfo && typeof lifeInfo == \"object\" && JSON.stringify(lifeInfo) != \"{}\") {\r\n            findLifeInfoRun = false;\r\n            that.updateLifeInfo(lifeInfo);\r\n            that.updateValue(true);\r\n          } else {\r\n            that.toast(\"未获取到服务信息\", \"none\");\r\n            that.$emit(\"input\", false);\r\n            return false;\r\n          }\r\n        } else {\r\n          if (findLifeInfoRun) that.findLifeInfo({ useCache });\r\n        }\r\n      },\r\n      // 监听 - 弹出层收起\r\n      close(s) {\r\n        let that = this;\r\n        if (new Date().getTime() - that.openTime < 400) {\r\n          return false;\r\n        }\r\n        if (s == \"mask\") {\r\n          if (that.maskCloseAble !== false) {\r\n            that.$emit(\"input\", false);\r\n            that.$emit(\"close\", \"mask\");\r\n            that.$emit(\"update:modelValue\", false);\r\n          }\r\n        } else {\r\n          that.$emit(\"input\", false);\r\n          that.$emit(\"close\", \"close\");\r\n          that.$emit(\"update:modelValue\", false);\r\n        }\r\n      },\r\n      moveHandle() {\r\n        //禁止父元素滑动\r\n      },\r\n      // sku按钮的点击事件\r\n      skuClick(value, index1, index2) {\r\n        let that = this;\r\n        if (value.ishow) {\r\n          if (that.selectArr[index1] != value.name) {\r\n            that.$set(that.selectArr, index1, value.name);\r\n            that.$set(that.subIndex, index1, index2);\r\n          } else {\r\n            that.$set(that.selectArr, index1, \"\");\r\n            that.$set(that.subIndex, index1, -1);\r\n          }\r\n          that.checkInpath(index1);\r\n          // 如果全部选完\r\n          that.checkSelectShop();\r\n        }\r\n      },\r\n      // 检测是否已经选完sku\r\n      checkSelectShop() {\r\n        let that = this;\r\n        // 如果全部选完\r\n        if (that.selectArr.every(item => item != \"\")) {\r\n          that.selectShop = that.shopItemInfo[that.getArrayToSting(that.selectArr)];\r\n          let stock = that.selectShop[that.stockName];\r\n          if (typeof stock !== \"undefined\" && that.selectNum > stock) {\r\n            that.selectNum = stock;\r\n          }\r\n          if (that.selectNum > that.maxBuyNum) {\r\n            that.selectNum = that.maxBuyNum;\r\n          }\r\n          if (that.selectNum < that.minBuyNum) {\r\n            that.selectNum = that.minBuyNum;\r\n          }\r\n          if (that.selectedInit) {\r\n            that.selectNum = that.minBuyNum || 1;\r\n          }\r\n        } else {\r\n          that.selectShop = {};\r\n        }\r\n      },\r\n      // 检查路径\r\n      checkInpath(clickIndex) {\r\n        let that = this;\r\n        let specListName = that.specListName;\r\n        //console.time('筛选可选路径需要的时间是');\r\n        //循环所有属性判断哪些属性可选\r\n        //当前选中的兄弟节点和已选中属性不需要循环\r\n        let specList = that.lifeInfo[specListName];\r\n        for (let i = 0, len = specList.length; i < len; i++) {\r\n          if (i == clickIndex) {\r\n            continue;\r\n          }\r\n          let len2 = specList[i].list.length;\r\n          for (let j = 0; j < len2; j++) {\r\n            if (that.subIndex[i] != -1 && j == that.subIndex[i]) {\r\n              continue;\r\n            }\r\n            let choosed_copy = [...that.selectArr];\r\n            that.$set(choosed_copy, i, specList[i].list[j].name);\r\n            let choosed_copy2 = choosed_copy.filter(\r\n              item => item !== \"\" && typeof item !== \"undefined\"\r\n            );\r\n            if (that.shopItemInfo.hasOwnProperty(that.getArrayToSting(choosed_copy2))) {\r\n              specList[i].list[j].ishow = true;\r\n            } else {\r\n              specList[i].list[j].ishow = false;\r\n            }\r\n          }\r\n        }\r\n        that.$set(that.lifeInfo, specListName, specList);\r\n        // console.timeEnd('筛选可选路径需要的时间是');\r\n      },\r\n      // 计算sku里面规格形成路径\r\n      checkItem() {\r\n        let that = this;\r\n        // console.time('计算有多小种可选路径需要的时间是');\r\n        let { stockName } = that;\r\n        let skuListName = that.skuListName;\r\n        // 去除库存小于等于0的服务sku\r\n        let originalSkuList = that.lifeInfo[skuListName];\r\n        let skuList = [];\r\n        let stockNum = 0;\r\n        originalSkuList.map((skuItem, index) => {\r\n          if (skuItem[stockName] > 0) {\r\n            skuList.push(skuItem);\r\n            stockNum += skuItem[stockName];\r\n          }\r\n        });\r\n        if (stockNum <= 0) {\r\n          that.outFoStock = true;\r\n        }\r\n        // 计算有多小种可选路径\r\n        let result = skuList.reduce(\r\n          (arrs, items) => {\r\n            return arrs.concat(\r\n              items[that.skuArrName].reduce(\r\n                (arr, item) => {\r\n                  return arr.concat(\r\n                    arr.map(item2 => {\r\n                      // 利用对象属性的唯一性实现二维数组去重\r\n                      //console.log(1,that.shopItemInfo,that.getArrayToSting([...item2, item]),item2,item,items);\r\n                      if (!that.shopItemInfo.hasOwnProperty(that.getArrayToSting([...item2, item]))) {\r\n                        that.shopItemInfo[that.getArrayToSting([...item2, item])] = items;\r\n                      }\r\n                      return [...item2, item];\r\n                    })\r\n                  );\r\n                },\r\n                [\r\n                  []\r\n                ]\r\n              )\r\n            );\r\n          },\r\n          [\r\n            []\r\n          ]\r\n        );\r\n        // console.timeEnd('计算有多小种可选路径需要的时间是');\r\n      },\r\n      getArrayToSting(arr) {\r\n        let str = \"\";\r\n        arr.map((item, index) => {\r\n          item = item.replace(/\\./g, \"。\");\r\n          if (index == 0) {\r\n            str += item;\r\n          } else {\r\n            str += \",\" + item;\r\n          }\r\n        });\r\n        return str;\r\n      },\r\n      // 检测sku选项是否已全部选完,且有库存\r\n      checkSelectComplete(obj = {}) {\r\n        let that = this;\r\n        let clickTime = new Date().getTime();\r\n        if (that.clickTime && clickTime - that.clickTime < 400) {\r\n          return false;\r\n        }\r\n        that.clickTime = clickTime;\r\n        let { selectShop, selectNum, stockText, stockName } = that;\r\n        if (!selectShop || !selectShop[that.skuIdName]) {\r\n          that.toast(\"请先选择对应规格\", \"none\");\r\n          return false;\r\n        }\r\n        if (selectNum <= 0) {\r\n          that.toast(\"购买数量必须>0\", \"none\");\r\n          return false;\r\n        }\r\n        // 判断库存\r\n        if (selectNum > selectShop[stockName]) {\r\n          that.toast(stockText + \"不足\", \"none\");\r\n          return false;\r\n        }\r\n        if (typeof obj.success == \"function\") obj.success(selectShop);\r\n      },\r\n      // 加入购物车\r\n      addCart() {\r\n        let that = this;\r\n        that.checkSelectComplete({\r\n          success: function(selectShop) {\r\n            console.log(selectShop)\r\n            selectShop.buy_num = that.selectNum;\r\n            that.$emit(\"add-cart\", selectShop);\r\n            // setTimeout(function() {\r\n            // \tthat.init();\r\n            // }, 300);\r\n          }\r\n        });\r\n      },\r\n      // 立即购买\r\n      buyNow() {\r\n        let that = this;\r\n        that.checkSelectComplete({\r\n          success: function(selectShop) {\r\n            selectShop.buy_num = that.selectNum;\r\n            that.$emit(\"buy-now\", selectShop);\r\n          }\r\n        });\r\n      },\r\n      // 弹窗\r\n      toast(title, icon) {\r\n        uni.showToast({\r\n          title: title,\r\n          icon: icon\r\n        });\r\n      },\r\n      // 获取对象数组中的某一个item,根据指定的键值\r\n      getListItem(list, key, value) {\r\n        let that = this;\r\n        let item;\r\n        for (let i in list) {\r\n          if (typeof value == \"object\") {\r\n            if (JSON.stringify(list[i][key]) === JSON.stringify(value)) {\r\n              item = list[i];\r\n              break;\r\n            }\r\n          } else {\r\n            if (list[i][key] === value) {\r\n              item = list[i];\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return item;\r\n      },\r\n      getListIndex(list, key, value) {\r\n        let that = this;\r\n        let index = -1;\r\n        for (let i = 0; i < list.length; i++) {\r\n          if (list[i][key] === value) {\r\n            index = i;\r\n            break;\r\n          }\r\n        }\r\n        return index;\r\n      },\r\n      // 自动选择sku前提是只有一组sku,默认自动选择最前面的有库存的sku\r\n      autoClickSku() {\r\n        let that = this;\r\n        let skuList = that.lifeInfo[that.skuListName];\r\n        let specListArr = that.lifeInfo[that.specListName];\r\n        if (specListArr.length == 1) {\r\n          let specList = specListArr[0].list;\r\n          for (let i = 0; i < specList.length; i++) {\r\n            let sku = that.getListItem(skuList, that.skuArrName, [specList[i].name]);\r\n            if (sku) {\r\n              that.skuClick(specList[i], 0, i);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      // 主题颜色\r\n      themeColorFn(name) {\r\n        let that = this;\r\n        let { theme, themeColor } = that;\r\n        let color = that[name] ? that[name] : themeColor[theme][name];\r\n        return color;\r\n      },\r\n      defaultSelectSku() {\r\n        let that = this;\r\n        let { defaultSelect } = that;\r\n        if (defaultSelect && defaultSelect.sku && defaultSelect.sku.length > 0) {\r\n          that.selectSku(defaultSelect);\r\n        }\r\n      },\r\n      /**\r\n      \t * 主动方法 - 设置sku\r\n      \tthat.$refs.skuPopup.selectSku({\r\n      \t\tsku:[\"红色\",\"256G\",\"公开版\"],\r\n      \t\tnum:5\r\n      \t});\r\n      \t */\r\n      selectSku(obj = {}) {\r\n        let that = this;\r\n        let { sku: skuArr, num: selectNum } = obj;\r\n        let specListArr = that.lifeInfo[that.specListName];\r\n        if (skuArr && specListArr.length === skuArr.length) {\r\n          // 先清空\r\n          let skuClickArr = [];\r\n          let clickKey = true;\r\n          for (let index = 0; index < skuArr.length; index++) {\r\n            let skuName = skuArr[index];\r\n            let specList = specListArr[index].list;\r\n            let index1 = index;\r\n            let index2 = that.getListIndex(specList, \"name\", skuName);\r\n            if (index2 == -1) {\r\n              clickKey = false;\r\n              break;\r\n            }\r\n            skuClickArr.push({\r\n              spec: specList[index2],\r\n              index1: index1,\r\n              index2: index2\r\n            });\r\n          }\r\n          if (clickKey) {\r\n            that.init(true);\r\n            skuClickArr.map(item => {\r\n              that.skuClick(item.spec, item.index1, item.index2);\r\n            });\r\n          }\r\n        }\r\n        if (selectNum > 0) that.selectNum = selectNum;\r\n      },\r\n      priceFilter(n = 0) {\r\n        let that = this;\r\n        if (typeof n == \"string\") {\r\n          n = parseFloat(n);\r\n        }\r\n        if (that.amountType === 0) {\r\n          return n.toFixed(2);\r\n        } else {\r\n          return (n / 100).toFixed(2);\r\n        }\r\n      },\r\n      pushLifeCache(lifeInfo) {\r\n        let that = this;\r\n        let { lifeIdName } = that;\r\n        lifeCache[lifeInfo[lifeIdName]] = lifeInfo;\r\n      },\r\n      // 用于阻止冒泡\r\n      stop() {},\r\n      // 图片预览\r\n      previewImage() {\r\n        let that = this;\r\n        let { selectShop, lifeInfo, lifeThumbName } = that;\r\n        let src = selectShop.image ? selectShop.image : lifeInfo[lifeThumbName];\r\n        if (src) {\r\n          uni.previewImage({\r\n            urls: [src]\r\n          });\r\n        }\r\n      }\r\n    },\r\n    // 计算属性\r\n    computed: {\r\n      // 最大购买数量\r\n      maxBuyNumCom() {\r\n        let that = this;\r\n        let max = that.maxBuyNum || 100000;\r\n        let stockName = that.stockName;\r\n        if (that.selectShop && typeof that.selectShop[stockName] !== \"undefined\") {\r\n          // 最大购买量不能超过当前服务的库存\r\n          if (max > that.selectShop[stockName]) {\r\n            max = that.selectShop[stockName];\r\n          }\r\n        }\r\n        return max;\r\n      },\r\n      // 是否是多规格\r\n      isManyCom() {\r\n        let that = this;\r\n        let { lifeInfo, defaultSingleSkuName, specListName } = that;\r\n        let isMany = true;\r\n        if (\r\n          lifeInfo[specListName] &&\r\n          lifeInfo[specListName].length === 1 &&\r\n          lifeInfo[specListName][0].list.length === 1 &&\r\n          lifeInfo[specListName][0].name === defaultSingleSkuName\r\n        ) {\r\n          isMany = false;\r\n        }\r\n        return isMany;\r\n      },\r\n      // 默认价格区间计算\r\n      priceCom() {\r\n        let str = \"\";\r\n        let that = this;\r\n        let { selectShop = {}, lifeInfo = {}, skuListName, skuIdName } = that;\r\n        if (selectShop[skuIdName]) {\r\n          str = that.priceFilter(selectShop.price);\r\n        } else {\r\n          let skuList = lifeInfo[skuListName];\r\n          if (skuList && skuList.length > 0) {\r\n            let valueArr = [];\r\n            skuList.map((skuItem, index) => {\r\n              valueArr.push(skuItem.price);\r\n            });\r\n            let min = that.priceFilter(Math.min(...valueArr));\r\n            let max = that.priceFilter(Math.max(...valueArr));\r\n            if (min === max) {\r\n              str = min + \"\";\r\n            } else {\r\n              str = `${min} - ${max}`;\r\n            }\r\n          }\r\n        }\r\n        return str;\r\n      },\r\n      // 库存显示\r\n      stockCom() {\r\n        let str = \"\";\r\n        let that = this;\r\n        let { selectShop = {}, lifeInfo = {}, skuListName, stockName } = that;\r\n        if (selectShop[stockName]) {\r\n          str = selectShop[stockName];\r\n        } else {\r\n          let skuList = lifeInfo[skuListName];\r\n          if (skuList && skuList.length > 0) {\r\n            let valueArr = [];\r\n            skuList.map((skuItem, index) => {\r\n              valueArr.push(skuItem[stockName]);\r\n            });\r\n            let min = Math.min(...valueArr);\r\n            let max = Math.max(...valueArr);\r\n            if (min === max) {\r\n              str = min;\r\n            } else {\r\n              str = `${min} - ${max}`;\r\n            }\r\n          }\r\n        }\r\n        return str;\r\n      },\r\n    },\r\n    watch: {\r\n      value(newVal, oldValue) {\r\n        let that = this;\r\n        if (newVal) {\r\n          that.open();\r\n        }\r\n      },\r\n      modelValue(newVal, oldValue) {\r\n        let that = this;\r\n        if (newVal) {\r\n          that.open();\r\n        }\r\n      },\r\n      defaultLife: {\r\n        immediate: true,\r\n        handler: function(newVal, oldValue) {\r\n          let that = this;\r\n          let { lifeIdName } = that;\r\n          if (\r\n            typeof newVal === \"object\" &&\r\n            newVal &&\r\n            newVal[lifeIdName] &&\r\n            !lifeCache[newVal[lifeIdName]]\r\n          ) {\r\n            that.pushLifeCache(newVal);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  /*  sku弹出层 */\r\n  .life-sku-popup {\r\n    position: fixed;\r\n    left: var(--window-left);\r\n    right: var(--window-right);\r\n    bottom: var(--window-bottom);\r\n    top: var(--window-top);\r\n    z-index: 21;\r\n    overflow: hidden;\r\n\r\n    &.show {\r\n      display: block;\r\n\r\n      .mask {\r\n        animation: showPopup 0.2s linear both;\r\n      }\r\n\r\n      .layer {\r\n        animation: showLayer 0.2s linear both;\r\n        bottom: var(--window-bottom);\r\n      }\r\n    }\r\n\r\n    &.hide {\r\n      .mask {\r\n        animation: hidePopup 0.2s linear both;\r\n      }\r\n\r\n      .layer {\r\n        animation: hideLayer 0.2s linear both;\r\n      }\r\n    }\r\n\r\n    &.none {\r\n      display: none;\r\n    }\r\n\r\n    .mask {\r\n      position: fixed;\r\n      left: var(--window-left);\r\n      right: var(--window-right);\r\n      top: 0;\r\n      height: 100%;\r\n      z-index: 1;\r\n      background-color: rgba(0, 0, 0, 0.65);\r\n    }\r\n\r\n    .layer {\r\n      display: flex;\r\n      flex-direction: column;\r\n      position: fixed;\r\n      left: var(--window-left);\r\n      right: var(--window-right);\r\n      bottom: var(--window-bottom);\r\n      z-index: 99;\r\n      border-radius: 10rpx 10rpx 0 0;\r\n      background-color: #fff;\r\n      // 设置ios刘海屏底部横线安全区域\r\n      padding-bottom: constant(safe-area-inset-bottom);\r\n      padding-bottom: env(safe-area-inset-bottom);\r\n\r\n      .specification-wrapper {\r\n        width: 100%;\r\n        padding: 30rpx 25rpx;\r\n        box-sizing: border-box;\r\n\r\n        .specification-wrapper-content {\r\n          width: 100%;\r\n          max-height: 900rpx;\r\n          min-height: 300rpx;\r\n\r\n          &::-webkit-scrollbar {\r\n            /*隐藏滚轮*/\r\n            display: none;\r\n          }\r\n\r\n          .specification-header {\r\n            width: 100%;\r\n            display: flex;\r\n            flex-direction: row;\r\n            position: relative;\r\n            margin-bottom: 40rpx;\r\n\r\n            .specification-left {\r\n              width: 180rpx;\r\n              height: 180rpx;\r\n              flex: 0 0 180rpx;\r\n\r\n              .product-img {\r\n                width: 180rpx;\r\n                height: 180rpx;\r\n              }\r\n            }\r\n\r\n            .specification-right {\r\n              flex: 1;\r\n              padding: 0 35rpx 10rpx 28rpx;\r\n              box-sizing: border-box;\r\n              display: flex;\r\n              flex-direction: column;\r\n              justify-content: flex-end;\r\n              font-weight: 500;\r\n\r\n              .price-content {\r\n                color: #fe560a;\r\n                margin-bottom: 10rpx;\r\n\r\n                .sign {\r\n                  font-size: 28rpx;\r\n                  margin-right: 4rpx;\r\n                }\r\n\r\n                .price {\r\n                  margin-left: 4rpx;\r\n                  font-size: 48rpx;\r\n                }\r\n\r\n                .price2 {\r\n                  margin-left: 4rpx;\r\n                  font-size: 36rpx;\r\n                }\r\n              }\r\n\r\n              .inventory {\r\n                font-size: 24rpx;\r\n                color: #525252;\r\n                margin-bottom: 14rpx;\r\n              }\r\n\r\n              .choose {\r\n                font-size: 24rpx;\r\n                color: #525252;\r\n                min-height: 32rpx;\r\n              }\r\n            }\r\n          }\r\n\r\n          .specification-content {\r\n            font-weight: 500;\r\n\r\n            .specification-item {\r\n              margin-bottom: 40rpx;\r\n\r\n              &:last-child {\r\n                margin-bottom: 0;\r\n              }\r\n\r\n              .item-title {\r\n                margin-bottom: 20rpx;\r\n                font-size: 28rpx;\r\n                color: #999999;\r\n              }\r\n\r\n              .item-wrapper {\r\n                display: flex;\r\n                flex-direction: row;\r\n                flex-flow: wrap;\r\n                margin-bottom: -20rpx;\r\n\r\n                .item-content {\r\n                  display: inline-block;\r\n                  padding: 10rpx 35rpx;\r\n                  font-size: 24rpx;\r\n                  border-radius: 10rpx;\r\n                  background-color: #ffffff;\r\n                  color: #333333;\r\n                  margin-right: 20rpx;\r\n                  margin-bottom: 20rpx;\r\n                  border: 2rpx solid #f4f4f4;\r\n                  box-sizing: border-box;\r\n\r\n                  &.actived {\r\n                    border-color: #fe560a;\r\n                    color: #fe560a;\r\n                  }\r\n\r\n                  &.noactived {\r\n                    // background-color: #f6f6f6;\r\n                    // border-color: #f6f6f6;\r\n                    // color: #c3c3c3;\r\n                    color: #c8c9cc;\r\n                    background: #f2f3f5;\r\n                    border-color: #f2f3f5;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            .number-box-view {\r\n              display: flex;\r\n              padding-top: 20rpx;\r\n            }\r\n          }\r\n        }\r\n\r\n        .close {\r\n          position: absolute;\r\n          top: 30rpx;\r\n          right: 25rpx;\r\n          width: 50rpx;\r\n          height: 50rpx;\r\n          text-align: center;\r\n          line-height: 50rpx;\r\n\r\n          .close-item {\r\n            width: 40rpx;\r\n            height: 40rpx;\r\n          }\r\n        }\r\n      }\r\n\r\n      .btn-wrapper {\r\n        display: flex;\r\n        width: 100%;\r\n        height: 120rpx;\r\n        flex: 0 0 120rpx;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        padding: 0 26rpx;\r\n        box-sizing: border-box;\r\n\r\n        .layer-btn {\r\n          width: 335rpx;\r\n          height: 76rpx;\r\n          border-radius: 38rpx;\r\n          color: #fff;\r\n          line-height: 76rpx;\r\n          text-align: center;\r\n          font-weight: 500;\r\n          font-size: 28rpx;\r\n\r\n          &.add-cart {\r\n            background: #ffbe46;\r\n          }\r\n\r\n          &.buy {\r\n            background: #fe560a;\r\n          }\r\n        }\r\n\r\n        .sure {\r\n          margin: 0 auto;\r\n          width: 95%;\r\n          max-width: 1200rpx;\r\n          height: 80rpx;\r\n          border-radius: 38rpx;\r\n          color: #fff;\r\n          line-height: 80rpx;\r\n          text-align: center;\r\n          font-weight: 500;\r\n          font-size: 28rpx;\r\n          background: #fe560a;\r\n        }\r\n\r\n        .sure.add-cart {\r\n          background: #ff9402;\r\n        }\r\n      }\r\n    }\r\n\r\n    @keyframes showPopup {\r\n      0% {\r\n        opacity: 0;\r\n      }\r\n\r\n      100% {\r\n        opacity: 1;\r\n      }\r\n    }\r\n\r\n    @keyframes hidePopup {\r\n      0% {\r\n        opacity: 1;\r\n      }\r\n\r\n      100% {\r\n        opacity: 0;\r\n      }\r\n    }\r\n\r\n    @keyframes showLayer {\r\n      0% {\r\n        transform: translateY(120%);\r\n      }\r\n\r\n      100% {\r\n        transform: translateY(0%);\r\n      }\r\n    }\r\n\r\n    @keyframes hideLayer {\r\n      0% {\r\n        transform: translateY(0);\r\n      }\r\n\r\n      100% {\r\n        transform: translateY(120%);\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=b0b58794&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=b0b58794&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1689298247350\n      var cssReload = require(\"D:/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
{"version":3,"sources":["uni-app:///main.js","webpack:///E:/项目/业小管/mini/pages/life/life/detail.vue?9be9","webpack:///E:/项目/业小管/mini/pages/life/life/detail.vue?c688","webpack:///E:/项目/业小管/mini/pages/life/life/detail.vue?6cd6","webpack:///E:/项目/业小管/mini/pages/life/life/detail.vue?cf9c","uni-app:///pages/life/life/detail.vue","webpack:///E:/项目/业小管/mini/pages/life/life/detail.vue?451c","webpack:///E:/项目/业小管/mini/pages/life/life/detail.vue?92fb","webpack:///E:/项目/业小管/mini/pages/life/life/detail.vue?d5eb","webpack:///E:/项目/业小管/mini/pages/life/life/detail.vue?60d6"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","UCollapseItem","UCollapse","tabType","SlideImage","SkuPopup","Comment","Service","Time","data","isLoading","lifeId","life","cartTotal","showSkuPopup","skuMode","categoryId","tabNum","dynamicTitle","isFixedTop","isFixedTop0","isFixedTop1","isFixedTop2","topDistance","topHeight","mainTitle","cIndex","headStyle","color","backgroundColor","fontSize","fontWeight","paddingLeft","borderRadius","bodyStyle","paddingRight","onLoad","uni","scrollTop","duration","setTimeout","onPageScroll","methods","setTitle","title","changePrice","goto","complete","GetTop","success","query","_this","fail","recordTopDistance","saoma","url","onRefreshPage","app","Promise","finally","getLifeDetail","LifeApi","then","resolve","catch","getCartTotal","CartApi","onAddCart","setTime","onShowSkuPopup","mode","lifeSkuId","lifeNum","serveTime","onTargetHome","onTargetCart","onShareAppMessage","path","onShareTimeline"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACa;AACyB;;;AAG3F;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAkpB,CAAgB,uqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC8LtqB;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAWA;EACAC;IACAC;IACAC;IACAC;IACA;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAF;QACAG;QACAL;QACAF;MACA;IACA;EACA;EAEA;AACA;AACA;EACAQ;IAAA;IACA;IACA;IACA;IACA;IAEAC;MACAC;MACAC;IACA;IACAC;MACA;IACA;EACA;EAEAC;IACA;MACA;QACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;EACA;EAEAC;IAEA;AACA;AACA;IACAC;MACAN;QACAO;MACA;IACA;IACA;IACAC;MACA;IACA;IAEAC;MACA;QACA;UACAT;YACAC;YACAC;YACAQ,+BACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACAX;QACAY;UACA;UACAC;UACAA;UACAA;YACAC;UACA;QACA;QACAC;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;IACA;IACAC;MAEAjB;QACAkB;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACAC;MACAC,uDACAC;QACAF;QACA;MACA;IACA;IAEA;IACAG;MACA;MACA;QACAC,2BACAC;UACAL;UACAM;QACA,GACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;QACAC,gBACAJ;UACAL;UACAM;QACA,GACAC;MACA;IACA;IAEA;IACAG;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;MACA;QACAC;QACA3D;QACA4D;QACAC;QACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;EAEA;EAEA;AACA;AACA;EACAC;IACA;IACA;IACA;MACAjE;IACA;IACA;MACAiC;MACAiC;IACA;EACA;EAEA;AACA;AACA;AACA;AACA;EACAC;IACA;IACA;IACA;MACAnE;IACA;IACA;MACAiC;MACAiC;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/cA;AAAA;AAAA;AAAA;AAAw7B,CAAgB,k7BAAG,EAAC,C;;;;;;;;;;;ACA58B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAA6vC,CAAgB,0tCAAG,EAAC,C;;;;;;;;;;;ACAjxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/life/life/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/life/life/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=d420b7ac&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./detail.vue?vue&type=style&index=1&id=d420b7ac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d420b7ac\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/life/life/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=d420b7ac&scoped=true&\"","var components\ntry {\n  components = {\n    mpHtml: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/mp-html/components/mp-html/mp-html\" */ \"@/uni_modules/mp-html/components/mp-html/mp-html.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    !_vm.isLoading && _vm.life.is_points_gift == 1\n      ? (\n          (_vm.life.skuList[_vm.tabNum].line_price * _vm.life.gift_ratio) /\n          100\n        ).toFixed(2)\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n  <view v-show=\"!isLoading\" class=\"container\">\r\n\r\n    <!-- 服务图片轮播 -->\r\n    <SlideImage v-if=\"!isLoading\" :video=\"life.video\" :videoCover=\"life.videoCover\" :images=\"life.life_images\" class=\"box\"/>\r\n\r\n    <!-- 服务信息 -->\r\n    <view v-if=\"!isLoading\" class=\"life-info m-top20\">\r\n      <!-- 价格、销量 -->\r\n      <view class=\"info-item info-item__top dis-flex flex-x-between flex-y-end\">\r\n        <view class=\"block-left dis-flex flex-y-center\">\r\n          <!-- 服务售价 -->\r\n          <text class=\"floor-price__samll\">￥</text>\r\n          <text class=\"floor-price\">{{ life.skuList[tabNum].life_price }}</text>\r\n          <!-- 会员价标签 -->\r\n          <view v-if=\"life.is_user_grade\" class=\"user-grade\">\r\n            <text>会员价</text>\r\n          </view>\r\n          <!-- 划线价 -->\r\n          <text v-if=\"life.line_price_min > 0\" class=\"original-price\">￥{{ life.skuList[tabNum].line_price }}</text>\r\n          <text v-if=\"life.is_points_gift==1\"\r\n            style=\"background-color: #fff;color: #d55852;padding: 2rpx 7rpx;border-radius: 7rpx;border: 1px solid #d55852;\">\r\n            送管珠:{{(life.skuList[tabNum].line_price*life.gift_ratio/100).toFixed(2)}}\r\n          </text>\r\n          <text v-if=\"life.is_tejia==1\"\r\n            style=\"background-color: #fff;color: #d55852;padding: 2rpx 7rpx;border-radius: 7rpx;border: 1px solid #d55852;margin-left: 10rpx;\">\r\n            限时特价\r\n          </text>\r\n        </view>\r\n        <view class=\"block-right dis-flex\">\r\n          <!-- 销量 -->\r\n          <view class=\"life-sales\">\r\n            <text>已售{{ life.life_sales }}件</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <!-- 标题、分享 -->\r\n      <view class=\"info-item info-item__name dis-flex flex-y-center\">\r\n        <view class=\"life-name flex-box\">\r\n          <text class=\"twoline-hide\">{{ life.life_name }}</text>\r\n        </view>\r\n        <!-- #ifdef MP-WEIXIN -->\r\n        <view class=\"life-share__line\"></view>\r\n        <view class=\"life-share\">\r\n          <button class=\"share-btn dis-flex flex-dir-column\" open-type=\"share\">\r\n            <text class=\"share__icon iconfont icon-fenxiang\"></text>\r\n            <text class=\"f-24\">分享</text>\r\n          </button>\r\n        </view>\r\n        <!-- #endif -->\r\n      </view>\r\n      <!-- 服务卖点 -->\r\n      <view v-if=\"life.selling_point\" class=\"info-item info-item_selling-point\">\r\n        <text>{{ life.selling_point }}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 选择服务规格 -->\r\n    <!--view v-if=\"life.spec_type == 20\" class=\"life-choice m-top20 b-f\" @click=\"onShowSkuPopup(1)\">\r\n      <view class=\"spec-list\">\r\n        <view class=\"flex-box\">\r\n          <text class=\"col-8\">选择：</text>\r\n          <text class=\"spec-name\" v-for=\"(item, index) in life.specList\" :key=\"index\">{{ item.spec_name }}</text>\r\n        </view>\r\n        <view class=\"f-26 col-9 t-r\">\r\n          <text class=\"iconfont icon-arrow-right\"></text>\r\n        </view>\r\n      </view>\r\n    </view-->\r\n\r\n    <!-- 服务服务 -->\r\n    <Service v-if=\"!isLoading\" :life-id=\"lifeId\" />\r\n\t\t\r\n\t\t<!-- 服务类型 -->\r\n\t\t<tabType :life=\"life\" @changePrice=\"changePrice\"></tabType>\r\n\r\n    <!-- 上门时间 -->\r\n    <Time v-if=\"!isLoading\" :life-id=\"lifeId\" @setTime=\"setTime\"/>\r\n\r\n    <!-- 服务SKU弹窗 -->\r\n    <SkuPopup v-if=\"!isLoading\" v-model=\"showSkuPopup\" :skuMode=\"skuMode\" :life=\"life\" @addCart=\"onAddCart\" />\r\n\r\n    <!-- 排序标签 -->\r\n    <!--view class=\"store-sort\" v-show=\"cIndex > 0\">\r\n      <view class=\"sort-item\" :class=\"{ active: isFixedTop[0]}\" @click=\"goto(0)\">\r\n        <text>服务</text>\r\n      </view>\r\n      <view class=\"sort-item\" :class=\"{ active: isFixedTop[1]}\" @click=\"goto(1)\">\r\n        <text>评价</text>\r\n      </view>\r\n      <view class=\"sort-item\" :class=\"{ active: isFixedTop[2]}\" @click=\"goto(2)\">\r\n        <text>详情</text>\r\n      </view>\r\n    </view-->\r\n\r\n    <!-- 服务评价 -->\r\n    <Comment v-if=\"!isLoading\" :life-id=\"lifeId\" :limit=\"2\" class=\"box\"/>\r\n\r\n    <!-- 收费标准 -->\r\n    <!--view v-if=\"!isLoading && life.stdDataList.length > 0\" class=\"life-content m-top20\">\r\n      <view class=\"item-title b-f\">\r\n        <text>收费标准</text>\r\n      </view>\r\n      <u-collapse :headStyle=\"headStyle\" :bodyStyle=\"bodyStyle\" v-for=\"(item, index) in life.stdDataList\" :key=\"index\">\r\n        <u-collapse-item style=\"padding:0 16rpx 16rpx 16rpx\" :title=\"item.std_cate_name\">\r\n          <text class=\"u-collapse-content\" style=\"float: left\">{{item.std_name}}</text>\r\n          <text class=\"u-collapse-content\" style=\"float: right\">\r\n            <text class=\"u-collapse-content\" v-if=\"item.is_lock_price === 0\">{{item.start_price}}-{{item.end_price}}/{{item.std_unit}}</text>\r\n            <text class=\"u-collapse-content\" v-else>{{item.end_price}}/{{item.std_unit}}</text>\r\n          </text>\r\n        </u-collapse-item>\r\n      </u-collapse>\r\n    </view-->\r\n\r\n    <!-- 服务描述 -->\r\n    <view v-if=\"!isLoading\" class=\"life-content m-top20 box\">\r\n      <view class=\"item-title b-f\">\r\n        <text>{{dynamicTitle}}</text>\r\n      </view>\r\n      <block v-if=\"life.content != ''\">\r\n        <view class=\"life-content__detail b-f\">\r\n          <mp-html :content=\"life.content\" />\r\n        </view>\r\n      </block>\r\n      <empty v-else tips=\"亲，暂无服务描述\" />\r\n    </view>\r\n\r\n    <!-- 底部选项卡 -->\r\n    <view class=\"footer-fixed\">\r\n      <view class=\"footer-container\">\r\n        <!-- 导航图标 -->\r\n        <view class=\"foo-item-fast\">\r\n          <!-- 首页 -->\r\n          <view class=\"fast-item fast-item--home\" @click=\"onTargetHome\">\r\n            <view class=\"fast-icon\">\r\n              <text class=\"iconfont icon-shouye\"></text>\r\n            </view>\r\n            <view class=\"fast-text\">\r\n              <text>首页</text>\r\n            </view>\r\n          </view>\r\n          <!-- 客服 (仅微信小程序端显示) -->\r\n          <!-- #ifdef MP-WEIXIN -->\r\n<!--          <button class=\"btn-normal\" open-type=\"contact\">\r\n            <view class=\"fast-item\">\r\n              <view class=\"fast-icon\">\r\n                <text class=\"iconfont icon-kefu1\"></text>\r\n              </view>\r\n              <view class=\"fast-text\">\r\n                <text>客服</text>\r\n              </view>\r\n            </view>\r\n          </button> -->\r\n          <!-- #endif -->\r\n          <!-- 购物车 -->\r\n          <!--view class=\"fast-item fast-item--cart\" @click=\"onTargetCart\">\r\n            <view v-if=\"cartTotal > 0\" class=\"fast-badge fast-badge--fixed\">{{ cartTotal > 99 ? '99+' : cartTotal }}\r\n            </view>\r\n            <view class=\"fast-icon\">\r\n              <text class=\"iconfont icon-gouwuche\"></text>\r\n            </view>\r\n            <view class=\"fast-text\">\r\n              <text>购物车</text>\r\n            </view>\r\n          </view-->\r\n        </view>\r\n        <!-- 操作按钮 -->\r\n        <view class=\"foo-item-btn\">\r\n          <view class=\"btn-wrapper\">\r\n            <!--view class=\"btn-item btn-item-deputy\" @click=\"onShowSkuPopup(2)\" v-if=\"life.stock_total > 0\">\r\n              <text>加入购物车</text>\r\n            </view-->\r\n            <view class=\"btn-item btn-item-main\" @click=\"onShowSkuPopup(3)\" v-if=\"life.stock_total > 0\">\r\n              <text>立即下单</text>\r\n            </view>\r\n            <view class=\"btn-item btn-item-main\" style=\"background-color: #c5c5c5;color:#fff\" v-else>\r\n              <text>已售罄</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 快捷导航 -->\r\n    <!-- <shortcut bottom=\"120rpx\" /> -->\r\n\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import * as LifeApi from '@/api/life/life'\r\n  import * as CartApi from '@/api/cart'\r\n  // import Shortcut from '@/components/shortcut'\r\n  import SlideImage from './components/SlideImage'\r\n\timport tabType from './components/tabType.vue'\r\n  import SkuPopup from './components/SkuPopup'\r\n  import Comment from './components/Comment'\r\n  import Service from './components/Service'\r\n  import Time from './components/Time'\r\n  import UCollapse from \"../../../uview-ui/components/u-collapse/u-collapse.vue\";\r\n  import UCollapseItem from \"../../../uview-ui/components/u-collapse-item/u-collapse-item.vue\";\r\n\r\n  export default {\r\n    components: {\r\n      UCollapseItem,\r\n      UCollapse,\r\n\t\t\ttabType,\r\n      // Shortcut,\r\n      SlideImage,\r\n      SkuPopup,\r\n      Comment,\r\n      Service,\r\n      Time\r\n    },\r\n    data() {\r\n      return {\r\n        // 正在加载\r\n        isLoading: true,\r\n        // 当前服务ID\r\n        lifeId: null,\r\n        // 服务详情\r\n        life: {},\r\n        // 购物车总数量\r\n        cartTotal: 0,\r\n        // 显示/隐藏SKU弹窗\r\n        showSkuPopup: false,\r\n        // 模式 1:都显示 2:只显示购物车 3:只显示立即购买\r\n        skuMode: 1,\r\n        // 服务分类\r\n        categoryId: 0,\r\n\t\t\t\t// 标签下标\r\n\t\t\t\ttabNum: 0,\r\n        // 动态标题\r\n        dynamicTitle: '服务描述',\r\n\r\n        isFixedTop:[],\r\n        isFixedTop0:false,\r\n        isFixedTop1:false,\r\n        isFixedTop2:false,\r\n        topDistance:[],\r\n        topHeight:\"\",\r\n        mainTitle:'',\r\n        cIndex: -1,\r\n\r\n        headStyle: {\r\n          color: 'black',\r\n          backgroundColor: '#eff3ff',\r\n          fontSize: '26rpx',\r\n          fontWeight: 'bold',\r\n          paddingLeft: '14rpx',\r\n          borderRadius: '6rpx'\r\n        },\r\n        bodyStyle: {\r\n          paddingLeft: '16rpx',\r\n          paddingRight: '16rpx',\r\n          fontSize: '24rpx',\r\n          color: 'black'\r\n        },\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 生命周期函数--监听页面加载\r\n     */\r\n    onLoad(options) {\r\n      // 记录服务ID\r\n      this.lifeId = parseInt(options.lifeId)\r\n      // 加载页面数据\r\n      this.onRefreshPage()\r\n\r\n      uni.pageScrollTo({\r\n        scrollTop:0,\r\n        duration:0\r\n      })\r\n      setTimeout(()=>{\r\n        this.GetTop()\r\n      },1000)\r\n    },\r\n\r\n    onPageScroll(e) {\r\n      for(let i = 0; i < this.topDistance.length; i++){\r\n        if(e.scrollTop > this.topDistance[i]){\r\n          this.isFixedTop[i] = true\r\n          this.$set(this.isFixedTop,i,true)\r\n          this.cIndex = i\r\n        }else{\r\n          this.isFixedTop[i] = false\r\n          this.$set(this.isFixedTop,i,false)\r\n        }\r\n      }\r\n      for (let j = 0; j < this.topDistance.length; j++) {\r\n        if (this.cIndex === j) {\r\n          this.isFixedTop[j] = true\r\n          this.$set(this.isFixedTop,j,true)\r\n        } else {\r\n          this.isFixedTop[j] = false\r\n          this.$set(this.isFixedTop,j,false)\r\n        }\r\n      }\r\n    },\r\n\r\n    methods: {\r\n\r\n      /**\r\n       * 动态设置服务详情页面标题\r\n       */\r\n      setTitle() {\r\n        uni.setNavigationBarTitle({\r\n          title: this.life.life_name\r\n        })\r\n      },\r\n\t\t\t// 根据选择类型不同，更改价格\r\n\t\t\tchangePrice(val){\r\n\t\t\t\tthis.tabNum = val\r\n\t\t\t},\r\n\r\n      goto(index) {\r\n        for(let i = 0; i < this.topDistance.length; i++){\r\n          if (i === index) {\r\n            uni.pageScrollTo({\r\n              scrollTop: this.topDistance[i]+1,\r\n              duration: 300,\r\n              complete: function () {\r\n              }\r\n            })\r\n          }\r\n        }\r\n      },\r\n      GetTop(){\r\n        var _this = this\r\n        uni.getSystemInfo({\r\n          success:(resu)=>{\r\n            const query = uni.createSelectorQuery().in(this)\r\n            query.selectAll('.box').boundingClientRect()\r\n            query.selectViewport().scrollOffset()\r\n            query.exec(function(res){\r\n              _this.recordTopDistance(res[0])\r\n            })\r\n          },\r\n          fail:(res)=>{}\r\n        })\r\n      },\r\n      recordTopDistance(res){\r\n        for(let i = 0; i < res.length; i++){\r\n          this.topDistance[i] = res[i].top\r\n          this.isFixedTop[i] = false\r\n        }\r\n      },\r\n      saoma(){\r\n\r\n        uni.navigateTo({\r\n          url:'./scan'\r\n        })\r\n      },\r\n\r\n      // 刷新页面数据\r\n      onRefreshPage() {\r\n        const app = this\r\n        app.isLoading = true\r\n        Promise.all([app.getLifeDetail(), app.getCartTotal()])\r\n          .finally(() => {\r\n            app.isLoading = false\r\n            this.setTitle()\r\n          })\r\n      },\r\n\r\n      // 获取服务信息\r\n      getLifeDetail() {\r\n        const app = this\r\n        return new Promise((resolve, reject) => {\r\n          LifeApi.detail(app.lifeId)\r\n            .then(result => {\r\n              app.life = result.data.detail\r\n              resolve(result)\r\n            })\r\n            .catch(reject)\r\n        })\r\n      },\r\n\r\n      // 获取购物车总数量\r\n      getCartTotal() {\r\n        const app = this\r\n        return new Promise((resolve, reject) => {\r\n          CartApi.total()\r\n            .then(result => {\r\n              app.cartTotal = result.data.cartTotal\r\n              resolve(result)\r\n            })\r\n            .catch(reject)\r\n        })\r\n      },\r\n\r\n      // 更新购物车数量\r\n      onAddCart(total) {\r\n        this.cartTotal = total\r\n      },\r\n\r\n      // 设置时间\r\n      setTime(time) {\r\n        this.life.serveTime = time\r\n      },\r\n\r\n      /**\r\n       * 显示/隐藏SKU弹窗\r\n       * @param {skuMode} 模式 1:都显示 2:只显示购物车 3:只显示立即购买\r\n       */\r\n      onShowSkuPopup(skuMode = 1) {\r\n\t\t\t\tthis.life.serveTime = ''\r\n\t\t\t\t// 跳转到订单结算页\r\n\t\t\t\tthis.$navTo('pages/checkout/index', {\r\n\t\t\t\t  mode: 'lifeBuyNow',\r\n\t\t\t\t  lifeId: this.life.skuList[this.tabNum].life_id,\r\n\t\t\t\t  lifeSkuId: this.life.skuList[this.tabNum].life_sku_id,\r\n\t\t\t\t  lifeNum: 1,\r\n\t\t\t\t  serveTime: this.life.serveTime\r\n\t\t\t\t})\r\n        // this.skuMode = skuMode\r\n        // this.showSkuPopup = !this.showSkuPopup\r\n      },\r\n\r\n      // 跳转到首页\r\n      onTargetHome(e) {\r\n        this.$navTo('pages/index/index')\r\n      },\r\n\r\n      // 跳转到购物车页\r\n      onTargetCart() {\r\n        this.$navTo('pages/cart/index')\r\n      },\r\n\r\n    },\r\n\r\n    /**\r\n     * 分享当前页面\r\n     */\r\n    onShareAppMessage() {\r\n      const app = this\r\n      // 构建页面参数\r\n      const params = app.$getShareUrlParams({\r\n        lifeId: app.lifeId,\r\n      })\r\n      return {\r\n        title: app.life.life_name,\r\n        path: `/pages/life/life/detail?${params}`\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 分享到朋友圈\r\n     * 本接口为 Beta 版本，暂只在 Android 平台支持，详见分享到朋友圈 (Beta)\r\n     * https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/share-timeline.html\r\n     */\r\n    onShareTimeline() {\r\n      const app = this\r\n      // 构建页面参数\r\n      const params = app.$getShareUrlParams({\r\n        lifeId: app.lifeId,\r\n      })\r\n      return {\r\n        title: app.life.life_name,\r\n        path: `/pages/life/life/detail?${params}`\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  page {\r\n    background: #fafafa;\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @import \"./detail.scss\";\r\n</style>\r\n","import mod from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1689298244155\n      var cssReload = require(\"D:/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=1&id=d420b7ac&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=1&id=d420b7ac&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1689298247187\n      var cssReload = require(\"D:/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}